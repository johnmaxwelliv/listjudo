{% extends "base.html" %}

{% block stylesheets %}
<!-- <link rel=stylesheet type="text/css" href="/site_media/crystal-stars.css" /> -->
<link rel=stylesheet type="text/css" href="/site_media/jquery.ui.stars.css" />
{% endblock %}

<h1>{{ list.title }}</h1>

{% block body %}
    {% load lists_tags %}
    {% if request.user.is_authenticated %}
    <p>There <b>is</b> an authenticated user.</p>
    {% else %}
    <p>There <b>isn't</b> an authenticated user.</p>
    {% endif %}
    <div id="entries">
    {% for entry in entries %}
    <div>
        {% entry_html entry %}
    </div>
    {% endfor %}
    </div>
    <div>
    {% entry_form %}
    </div>
<!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script> -->
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.2/jquery-ui.min.js" type="text/javascript"></script>
<script src="/site_media/jquery.ui.stars.js" type="text/javascript"></script>
<script src="http://github.com/malsup/form/raw/master/jquery.form.js?v2.43" type="text/javascript"></script>
<script src="/site_media/list_detail.js"></script>
<script type="text/javascript">
{% for entry in list.entry_set.all %}
$("#stars-wrapper-{{ entry.id }}").stars({
    inputType: "select",
    cancelShow: false,
    callback: function (ui, type, value) {
        $("#stars-form-{{ entry.id }}").ajaxSubmit();
    }
});
{% endfor %}
</script>
{% endblock %}

